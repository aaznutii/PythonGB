-- 1. —оздайте таблицу logs типа Archive. ѕусть при каждом создании записи в таблицах users,
-- catalogs и products в таблицу logs помещаетс€ врем€ и дата создани€ записи, название
-- таблицы, идентификатор первичного ключа и содержимое пол€ name.

CREATE TABLE LOGS (
  ID INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP,
  TABLE_NAME VARCHAR(50) NOT NULL,
  ROW_ID INT UNSIGNED NOT NULL,
  ROW_NAME VARCHAR(255)
) ENGINE = ARCHIVE;

DELIMITER //

CREATE TRIGGER PRODUCTS_INSERT AFTER INSERT ON PRODUCTS
FOR EACH ROW
BEGIN
    INSERT INTO LOGS VALUES (NULL, DEFAULT, "PRODUCTS", NEW.ID, NEW.NAME);
END//

CREATE TRIGGER USERS_INSERT AFTER INSERT ON USERS
FOR EACH ROW
BEGIN
    INSERT INTO LOGS VALUES (NULL, DEFAULT, "USERS", NEW.ID, NEW.NAME);
END//

CREATE TRIGGER CATALOGS_INSERT AFTER INSERT ON CATALOGS
FOR EACH ROW
BEGIN
    INSERT INTO LOGS VALUES (NULL, DEFAULT, "CATALOGS", NEW.ID, NEW.NAME);
END//